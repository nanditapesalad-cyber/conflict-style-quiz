<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Conflict Style Spectrum – Manager vs Reportees</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body { font-family: Arial, sans-serif; background:#f7f8fa; padding:20px; }
.container { max-width:1000px; margin:auto; background:#fff; padding:24px; border-radius:10px; }
h1 { text-align:center; }
.question { margin:18px 0; padding-bottom:10px; border-bottom:1px solid #eee; }
.scale label { margin-right:10px; }
button { margin-top:20px; padding:12px 20px; background:#4f46e5; color:#fff; border:none; border-radius:8px; cursor:pointer; }
.results { display:none; margin-top:30px; }
.grid { display:grid; grid-template-columns:1fr 1fr; gap:30px; }
.note { background:#eef2ff; padding:15px; border-radius:8px; margin-top:20px; }
</style>
</head>

<body>
<div class="container">
<h1>Conflict Style Spectrum</h1>

<p><b>Instructions:</b> For each statement, rate how often it describes your behaviour:</p>
<ul>
<li><b>With your Manager</b></li>
<li><b>With your Reportees</b></li>
</ul>

<p>1 = Never · 2 = Seldom · 3 = Sometimes · 4 = Often · 5 = Always</p>

<form id="quiz"></form>

<button onclick="calculate()">See My Results</button>

<div class="results" id="results">
<h2>Your Conflict Style Comparison</h2>

<div class="grid">
<div>
<h3>With My Manager</h3>
<canvas id="chartManager"></canvas>
<p id="textManager"></p>
</div>

<div>
<h3>With My Reportees</h3>
<canvas id="chartReportees"></canvas>
<p id="textReportees"></p>
</div>
</div>

<div class="note">
<h3>Reflection</h3>
<ul>
<li>Where do you see the biggest shift between managing up and down?</li>
<li>Which styles feel deliberate vs automatic?</li>
<li>Which style might you need to use more intentionally?</li>
</ul>
</div>
</div>
</div>

<script>
const questions = [
"I avoid being put on the spot; I keep conflicts to myself.",
"I use my influence to get my ideas accepted.",
"I usually try to split the difference to resolve an issue.",
"I generally try to satisfy the other's needs.",
"I try to investigate an issue to find a solution acceptable to us.",
"I usually avoid open discussion of my differences.",
"I use my authority to make decisions in my favor.",
"I try to find a middle course to resolve an impasse.",
"I usually accommodate to the other's wishes.",
"I try to integrate my ideas with the other's.",
"I try to stay away from disagreement.",
"I use my expertise to make decisions that favor me.",
"I propose a middle ground for breaking deadlocks.",
"I give in to the other's wishes.",
"I try to work with the other to find solutions that satisfy both.",
"I keep disagreements to myself to avoid hard feelings.",
"I generally pursue my side of the issue.",
"I negotiate to reach a compromise.",
"I often go with the other's suggestions.",
"I exchange accurate information so we can solve problems together.",
"I try to avoid unpleasant exchanges.",
"I sometimes use my power to win arguments.",
"I use give-and-take to make compromises.",
"I try to satisfy the other's expectations.",
"I bring all concerns out in the open so issues can be resolved."
];

const styleMap = {
"Avoidance":[0,5,10,15,20],
"Competition":[1,6,11,16,21],
"Compromise":[2,7,12,17,22],
"Accommodation":[3,8,13,18,23],
"Collaboration":[4,9,14,19,24]
};

const styles = Object.keys(styleMap);
const form = document.getElementById("quiz");

questions.forEach((q,i)=>{
  form.innerHTML += `
  <div class="question">
    <p><b>${i+1}. ${q}</b></p>
    <div class="scale">
      With My Manager:
      ${[1,2,3,4,5].map(v=>`<label><input type="radio" name="m${i}" value="${v}" required> ${v}</label>`).join("")}
    </div>
    <div class="scale">
      With My Reportees:
      ${[1,2,3,4,5].map(v=>`<label><input type="radio" name="r${i}" value="${v}" required> ${v}</label>`).join("")}
    </div>
  </div>`;
});

function calculate(){
  const scoresM = {}, scoresR = {};
  styles.forEach(s=>{scoresM[s]=0; scoresR[s]=0;});

  styles.forEach(style=>{
    styleMap[style].forEach(i=>{
      scoresM[style] += parseInt(document.querySelector(`input[name="m${i}"]:checked`).value);
      scoresR[style] += parseInt(document.querySelector(`input[name="r${i}"]:checked`).value);
    });
  });

  render(scoresM, "chartManager", "textManager");
  render(scoresR, "chartReportees", "textReportees");
  document.getElementById("results").style.display="block";
}

function render(scores, chartId, textId){
  const data = styles.map(s=>Math.round(scores[s] / 25 * 100));
  new Chart(document.getElementById(chartId), {
    type: "radar",
    data: { labels: styles, datasets: [{ data, fill:true }] },
    options: { scales: { r: { beginAtZero:true, max:100 } } }
  });

  const dominant = styles[data.indexOf(Math.max(...data))];
  document.getElementById(textId).innerText =
    "Dominant style: " + dominant + ". This reflects how frequently you rely on this approach in this relationship.";
}
</script>
</body>
</html>
